移动接入资源发布技术
SSL协议
底层为SSL记录协议--主要负责对上层的数据进行分块、压缩、计算并添加MAC、加密，最后把记录块传输给对方。
上层为SSL握手协议、SSL密码变化协议、SSL警告协议
SSL握手协议--客户端和服务器端通过握手协议建立会话，会话包含一组参数（会话ID、对方的证书、加密算法列表（包括密钥交换算法、数据加密算法、MAC算法）、压缩算法以及主密钥）。SSL会话可被多个连接共享，以减少会话协商开销。
SSL密码变化协议--通过该协议通知接收方，随后的报文均使用新协商的加密算法列表和密钥进行保护和传输。
SSL警告协议--用来允许一方向另一方报告告警信息，信息中包含警告的严重级别和描述。

资源分类
资源--远程接入SSL VPN后授权中断允许访问的网络服务。
根据实现机制和应用服务的不同将资源分为：WEB应用、TCP应用、L3VPN应用、远程应用。

WEB应用技术原理：
需求：1：用户在外手机办公，和总部建立了SSL VPN。现在需要通过手机访问总部的WEB资源。
2：用户不希望在手机上安装额外的控件。
WEB应用：
通过SSL设备将内网服务转换成HTTPS协议。支持应用类型：HTTP、HTTPS、FTP和FileShare。
优点：客户端免控件，所有浏览器均支持。
建议：常规测试不建议使用WEB应用，适用于手机、无IE浏览器等无法安装ActiveX控件条件的环境接入。
注：客户端接入SSL VPN访问WEB应用，不能打开新窗口输入地址访问，只能点击链接或利用WEB全网服务的地址栏访问。
WEB应用技术原理：
1：客户端与SSL 设备建立SSL VPN连接，SSL VPN中新建OA系统的资源。SSL VPN设备把Server端的服务转换为客户端浏览器可以打开的链接。
2：客户端登录VPN后，点击资源链接列表访问OA资源。实际是通过VPN隧道进行访问。
3：数据发送到SSL VPN设备后，SSL VPN解封装，将原来的HTTPS协议转换为HTTP，以SSL VPN设备自身的IP地址或用户的虚拟IP为源IP，重新发送请求给OA服务器然后将资源加载到SSL VPN本地，之后SSL VPN设备应答客户端的请求。（修改源IP来解决路由回包的问题）

TCP应用技术原理
需求：用户在外电脑办公，需要通过电脑远程登录总部的web服务器进行资源更新。（web资源无法支持Telnet应用类型）
TCP应用：
通过在客户端安装Proxy控件，由控件抓取访问服务器的TCP连接并对数据进行封装，将普通的TCP连接转换成SSL协议数据。
支持应用类型：所有基于TCP传输协议的应用
优点：适用范围广，只需在客户端安装一个小控件即可。
建议：所有基于TCP的应用，建议首选添加TCP应用。
TCP应用技术原理：
1：客户端和SSL设备建立SSL VPN连接，SSL VPN中新建OA系统的资源。
2：客户端安装ProxyIE控件（资源建立后再安装该控件，新建的资源需要重新登录来更新ProxyIE控件）。该控件可以辨别哪些流量走VPN隧道。
3：客户端登录VPN后访问直接访问地址即可。
4：ProxyIE识别该数据包是访问TCP应用资源，为VPN流量，把数据包抓取并封装到隧道中，把原来的整个数据包加密封装到新数据包的应用层数据中。
5：数据发送到SSL VPN设备后，SSL VPN解封装，将源IP改为SSL设备自身IP或用户的虚拟IP地址并把原始数据包发送给OA服务器。（修改源IP同样是为了解决路由回包的问题）

L3VPN技术原理
需求：用户在外电脑办公，需要通过电脑访问总部的SNMP服务器进行管理。
L3VPN应用：
通过在客户端安装虚拟网卡，客户端生成路由表指向虚拟网卡，由虚拟网卡抓取访问服务器的数据，进行封装后通过虚拟网卡和SSL设备建立的隧道将数据传递到Server。
支持应用类型：所有基于TCP、UDP、ICMP的应用
特点：客户端需要安装虚拟网卡，相对TCP的控件包较大。首次登录接入SSL VPN需要安装虚拟网卡，实现方式类似IPSec的移动客户端。
L3VPN应用技术原理
1：客户端和SSL设备建立SSL VPN连接，SSL VPN中新建OA系统的资源。
2：客户端安装虚拟网卡控件（资源建立后安装该控件，新建资源需要重新登录来更新控件）。该控件可以把去往L3VPN资源的路由条目下发到客户端本地路由表中。
3：客户端登录VPN后访问server地址，通过查询路由表发现去往该地址交给虚拟网卡即可。
4：虚拟网卡对数据包进行封装并送入SSL VPN隧道，把原来的整个数据包加密封装到新数据包的应用层数据中，源IP改为虚拟网卡IP。
5：数据发送到SSL VPN设备后，SSL VPN解封装，源IP改为SSL设备自身IP或用户的虚拟IP并将原始数据包发送给OA服务器。（修改源IP目的同上）

远程应用技术原理
需求：用户在外使用MAC电脑办公，需要使用大量.exe软件。（MAC电脑不支持.exe应用类型）
远程应用技术原理：
采用基于服务器计算的应用模式，应用的安装、配置、管理、维护以及应用的执行均集中在服务器上进行，用户通过远程客户端登录服务器进行操作，输入输出的内容通过网络传输到客户端。
特点：1：客户端无需安装应用，只需安装EasyConnect客户端，服务器需要安装RemoteServerAgent组件。减少C/S应用系统使用的局限性，提高易用性。
  2：一些B/S结构的应用需要在客户端浏览器安装插件才能访问，但是这些插件对手机或平板不兼容、不支持安装，可以通过远程应用发布的方式来使用。

用户、角色、资源
角色：是用户和资源之间的纽带，用来给不同的用户关联不同的内网资源和策略，以实现更细致的远程接入控制。
策略组：用来设置用户的接入VPN的安全策略。包括：客户端选项、账号属性和安全桌面相关信息。策略组设置完成后，需要被用户或用户组关联才生效。根据需求的不同可设置不同的策略组分别于用户、用户组关联。
